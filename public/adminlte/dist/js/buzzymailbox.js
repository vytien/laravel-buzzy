var BuzzyMail=function(){var t=function(){$('.mailbox-messages input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue"}),$('.cho input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue",radioClass:"iradio_flat-blue"}).on("ifChecked",function(t){$(".mailbox-messages input[type='checkbox']").iCheck("check"),$(".fa",this).removeClass("fa-square-o").addClass("fa-check-square-o")}).on("ifUnchecked",function(t){$(".mailbox-messages input[type='checkbox']").iCheck("uncheck"),$(".fa",this).removeClass("fa-check-square-o").addClass("fa-square-o")}),$(".mailbox-star").click(function(t){var e=$(this).find(".fa"),a=$(this).attr("data-id");$.ajax({type:"POST",url:"/admin/mailbox/dostar",data:"mail="+a+"&_token="+$("#requesttoken").val(),success:function(t){var a=t.status,o=t.errors;"Error"==a&&swal({type:"warning",title:"Error",text:o,timer:2e3,showConfirmButton:!1}),"stared"==t?e.addClass("text-yellow"):e.removeClass("text-yellow")}})}),$(".mailbox-important").click(function(t){var e=$(this).find(".fa"),a=$(this).attr("data-id");$.ajax({type:"POST",url:"/admin/mailbox/doimportant",data:"mail="+a+"&_token="+$("#requesttoken").val(),success:function(t){var a=t.status,o=t.errors;"Error"==a&&swal({type:"warning",title:"Error",text:o,timer:2e3,showConfirmButton:!1}),"important"==t?e.addClass("text-red"):e.removeClass("text-red")}})}),$(".addcat").on("click",function(t){var e=($(this),$(this).attr("data-type"));swal({title:"Add Section",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Folder Name"},function(t){return t===!1?!1:""===t?(swal.showInputError("Type something"),!1):void $.ajax({type:"POST",dataType:"json",url:"/admin/mailbox/addcat",data:"name="+t+"&type="+e+"&_token="+$("#requesttoken").val(),success:function(t){var e=t.type,a=t.message,o=t.status,r=t.errors;"Error"==o?swal({type:"warning",title:"Error",text:r,timer:2e3,showConfirmButton:!1}):"error"==e?swal({type:"warning",title:"Error",text:a,timer:2e3,showConfirmButton:!1}):"success"==e&&(swal({type:"success",title:"Success",timer:2e3,showConfirmButton:!1}),location.href=location.href)}})})}),$(".doaction").on("click",function(){var t=$(this).attr("data-action"),e=$(this).attr("data-type"),a=$("#contacts"),o=a.serialize(),r=$(this).parents(".box").find(".overlay");r.removeClass("hide"),$.ajax({type:"POST",dataType:"json",url:"/admin/mailbox/doaction",data:o+"&typo="+t+"&type="+e,success:function(t){var e=t.type,a=t.message,o=(t.url,t.status),s=t.errors;"Error"==o?swal({type:"warning",title:"Error",text:s,timer:2e3,showConfirmButton:!1}):"error"==e?swal({type:"warning",title:"Error",text:a,timer:2e3,showConfirmButton:!1}):"success"==e&&(swal({type:"success",title:"Success",timer:2e3,showConfirmButton:!1}),location.href=location.href),setTimeout(function(){r.addClass("hide")},1e3)}})}),$(".sendmail").on("click",function(){var t=$(this).attr("data-type"),e=$(this).closest("form"),a=e.attr("action"),o=e.serialize(),r=$(".box").find(".overlay");r.removeClass("hide"),$.ajax({type:"POST",dataType:"json",url:a,data:o+"&type="+t,success:function(t){console.log(t);var e=t.type,a=t.message,o=t.url,s=t.status,i=t.errors;"Error"==s?swal({type:"warning",title:"Error",text:i,timer:2e3,showConfirmButton:!1}):"error"==e?swal({type:"warning",title:"Error",text:a,timer:2e3,showConfirmButton:!1}):"success"==e&&(location.href=o),setTimeout(function(){r.addClass("hide")},1e3)}})})};return{init:function(){t()}}}();BuzzyMail.init();